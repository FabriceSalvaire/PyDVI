#####################################################################################################
#
# PyDVI - Python Library to Process DVI Stream
# Copyright (C) 2009 Salvaire Fabrice
#
#####################################################################################################

#####################################################################################################
#
# Audit
#
#  - 10/01/2009 fabrice
#
#####################################################################################################

#####################################################################################################

import subprocess

#####################################################################################################

def which(filename, format = None):

    '''
    Wrapper around kpsewhich program
    '''

    command = ['kpsewhich']

    if format is not None:
        command.append("--format='%s'" % (format))

    command.append(filename)

    command_string = ' '.join(command)

    pipe = subprocess.Popen(command_string, shell=True, stdout=subprocess.PIPE)
        
    stdout, stderr = pipe.communicate()

    path = stdout.rstrip()

    if path:
        return path
    else:
        return None

#####################################################################################################
#
# End
#
#####################################################################################################
